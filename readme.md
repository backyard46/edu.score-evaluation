# 概要
ITSS準拠の研修カリキュラム「プログラミングの基礎（B121）」のうち、「文法：条件判定」の実習として、数値比較とその結果としてのテキストボックス背景色変更を行います。
各課題は別々のプログラム（別プロジェクト）として作成してください。また、作成するアプリケーションはWindows Formを想定しています。
ここで掲示しているプログラムは正解サンプルです。実際の課題実施に際しては、新人にはゼロからプログラムを作ってもらいます。

# 課題

## 事前準備

特に準備はありませんが、Visual StudioでC#のWindows Formプロジェクトを作成してください。

## 課題1 入力されたスコアの評価

### 新人用課題文
以下の要件を満たすプログラムを作ってください。

- テキストボックス4つのフォームを用意する。
- テキストボックスの左には、「社員1」「社員2」「社員3」「社員4」というラベルを用意する。
- テキストボックスからフォーカスが移動したら（別のテキストボックスやほかのウィンドウにマウスの選択が移ったら）、以下のルールでテキストボックスの色や内容を変える。
  - 数値が0の場合 …… 赤
  - 数値が1～50の場合 …… オレンジ
  - 数値が51～80の場合 …… 黄色
  - 数値が81～100の場合 …… 緑
  - 数値が101以上かマイナスの場合 …… テキストボックスを消して、背景色を白にする

フォーカスが移動したことの検知は、テキストボックスのLeaveイベントを用います。Leaveイベントに関連付けられた処理で、数値の判断と色の変更を行います。
また、テキストボックスに入ってくる情報は「文字（string型）」、一方、比較処理は「数値（int型）」であることから、色を決めるための条件文の前に入力された文字を数値に変換する必要があります。ここでは、下記のようにint型が持つParseメソッドを用いた方法を使って文字→数値の変換を行ってください。

```cs
// Parseメソッドを利用する方法
int value2 = int.Parse(TextBox1.Text);
```

### 講師用補足
- イベントドリブンの処理で、同じような処理を何度も呼ぶことになるプログラムを作る人が大半かと思います。いったんはそのまま作らせてください。類似処理を集約することを学ぶ第一歩です。
- テキストボックスの中に入っている文字を数値に変換する方法について説明が必要と思われますので、int.Parseでの変換を伝えてください。
- おそらく、テキストボックスが空の場合や、数字文字以外が入っている場合のエラー処理について気づく新人が出てくるかとおもいます。いったんはそのまま作らせてください。使い手側に「数字以外入れない」というルールを課したことにします。なお、エラーを起こさないような事前チェック、たとえばテキストボックスが空の場合や文字の場合は判定しない方法については課題3で実施します。

---

## 課題2 Enterキーが押された時にも評価する

### 新人用課題文
課題1のプロジェクトをコピーして新しいプロジェクトを作ってください。新しいプロジェクトで、テキストボックスの色変え処理を、フォーカス移動（Leave）だけではなく「Enterキーが押されたとき」でも実施されるように改造してください。

#### 参考情報: テキストボックスでEnterキーが押されたことを判断する
- TextBoxの「KeyDown」イベントに処理を記述する。
- KeyDownイベントに渡される引数「e」に、押されたキーの情報が格納されています。
- e.KeyCode の内容を見て、Keys.Enter と一致すればEnterキーが押されたという意味。

### 講師用補足
- KeyDownイベントではKeys列挙型のEnterを指定するので、ここでは特に文字コード等について触れる必要はありません。

---

## 課題3 エラー回避策の実装（対応方法検索含む）

### 新人用課題文
課題2のプロジェクトをコピーして新しいプロジェクトを作ってください。新しいプロジェクトで、テキストボックスに数値以外の文字を入れた場合や、テキストボックスが空のままで処理した場合でもエラーが起きないような処置を施してください。
具体的には、課題1の例に挙げた「Parse」メソッドの高機能版である「TryParse」を利用します。利用に際しては、TryParseの使い方をGoogleで検索し、できればマイクロソフトのサイトの説明を読んで実装してみてください。検索に際しては以下の点に気をつけてください。

- できるだけ、マイクロソフトの公式情報を参照してください。URL（Webページのアドレス）が「https://docs.microsoft.com/」で始まるものが公式サイトです。
- 公式サイト以外を参照する場合、当面は下記のようなサイトを参考にしましょう（比較的信頼できる）。
  - @IT(アットマークIT) …… 「https://www.atmarkit.co.jp」で始まるURL。ここの掲示板のやりとりや技術特集記事は、比較的正しい情報が掲示されています。
  - DOBON.NET …… 「https://dobon.net/」で始まるURL。個人サイトですが蓄積されている情報量と信頼性は高いです。
  - 未確認飛行C …… 「https://ufcpp.net/」で始まるURL。個人サイトですがこちらも古くから残っている信頼性の高いサイトです。
- 逆に、当面は参考にしない方が良いサイトは下記の通りです。
  - Qiita（キータ）…… 情報量は多いのですが誰でも記事を掲載でき、内容の信頼性チェックなどは非常に緩いので、間違いや嘘を見抜けない状態だと鵜呑みは危険です（良い情報もあるのですが……）。

### 講師用補足
- TryParseを用いたデータ変換試行を使い、エラーを未然に防ぐ実装を行います。
- 利用方法やサンプルコードは敢えて提示せず、Googleで検索した結果を自分で使ってみるという方式を採ることで、情報の収集や利用方法についても実体験します。
- どうにも詰まっているようであれば、検索方法や結果の見方についてサポートしてあげてください。


---

# サンプルソース概略

サンプルは課題2の状況を想定して作成されています。

## ScoreEvaluation
- テキストボックス複数に対して、それぞれLeaveイベント、KeyDownイベントで数値判定と色の変更を行っています。
- 各イベント処理に同じロジックを並べなくて良いように、数値を渡すと対応する色を返す関数「EvalScore」を用意し、各処理ではこの関数に数値を渡し、帰ってきた色情報を背景色に設定しています。
